<div class="page-wrapper bg-group h-100 ">
  <div class="page-breadcrumb">
    <div class="row">
      <div class="col-12 d-flex no-block align-items-center">
        <h3 class="page-title title">Mis grupos</h3>
        <div class="ms-auto text-end">
          <nav aria-label="breadcrumb"></nav>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row flex">
      <div class="col-lg-2">
        <a
          (click)="showDialog()"
          href="javascript:void(0)"
          class="
            btn
            d-flex
            align-items-center
            justify-content-center
            btn
            mt-3
            btn-info
            d-block
            waves-effect waves-light
          "
        >
          <i class="mdi mdi-plus fs-4 me-1"></i> Crea un grupo
        </a>
        <p-dialog
          header="Crea tu grupo"
          [style]="{ width: '80vw', 'min-width': '300px' }"
          [(visible)]="display"
          [modal]="true"
        >
          <app-group-create
            (toggleCreate)="onToggleCreate($event)"
          ></app-group-create>
        </p-dialog>
      </div>
      <div class="col-lg-10">
        <div class="row el-element-overlay">
          <div class="col-lg-4" *ngFor="let group of groups">
            <div class="card" [style]="{ height: '90%'}">
              <div class="el-card-item">
                <div class="el-card-avatar el-overlay-1">
                  <img src={{group.picture}} alt="user" class="img-fluid img-thumbnail"/>
                  <div class="el-overlay">
                    <ul class="list-style-none el-info">
                      <li class="el-item">
                        <a
                          class="
                            btn
                            default
                            btn-outline
                            image-popup-vertical-fit
                            el-link
                            text-white text-lowercase
                          "
                          (click)="getGroup(group.id)"
                          >Ver grupo</a
                        >
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="el-card-content">
                  <h4 class="mb-0">{{ group.name }}</h4>
                  <span class="text-muted p-1">{{
                    group.description.length > 100
                      ? (group.description | slice: 0:100) + "..."
                      : group.description
                  }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="!groups.length">
          <div class="alert alert-warning" role="alert">
            <h3 class="alert-heading">Ups!</h3>
            <h5>
              Parece que no eres parte de algun grupo todavia. Intenta crear uno o tambi√©n puedes unirte a los ya existentes.
            </h5>
            <hr />
            <h5 class="mb-4">
              Si deseas ver otros grupos dale click al boton!
            </h5>
            <a [routerLink]='["../groups"]' class="btn btn-warning btn-lg">
              Otros grupos
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

